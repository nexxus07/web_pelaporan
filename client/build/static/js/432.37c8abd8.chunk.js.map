{"version":3,"file":"static/js/432.37c8abd8.chunk.js","mappings":"gMAeA,MAAMA,UAAiBC,EAAAA,UAAUC,WAAAA,GAAA,SAAAC,WAAA,KAC7BC,MAAQ,CACJC,MAAO,GACPC,SAAU,IACZ,KAEFC,iBAAoBC,IAEhB,IAAIC,EAAQD,EAAEE,OAAOD,MACD,UAAhBD,EAAEE,OAAOC,KAAgBF,EAAQG,EAAAA,EAAUC,SAASJ,IACxDK,KAAKC,SAAS,CACV,CAACP,EAAEE,OAAOC,IAAKF,KAEtB,KAEDO,qBAAuB,KACnB,MAAM,MAAEX,EAAK,SAAEC,GAAaQ,KAAKV,MAC5BC,GAAUC,GAKfW,EAAAA,EAAAA,IAA+BC,EAAAA,EAAMb,EAAOC,GACvCa,MAAMC,IAEHC,MAAM,GAADC,OAAIC,wBAA6B,kBAAkB,CACpDC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CACjBC,IAAKT,EAAeU,KAAKD,IACzBxB,MAAOe,EAAeU,KAAKzB,UAGlCc,MAAKY,GAAOA,EAAIC,SAChBb,MAAKc,IACFC,QAAQC,IAAI,gCAA4BF,MAE3CG,OAAMC,IACHH,QAAQG,MAAM,uCAAmCA,MAGrDC,MAAM,wCACNC,OAAOC,SAASC,KAAO,YAE1BL,OAAOC,IACJ,MAAMK,EAAeL,EAAMM,QAC3BL,MAAM,mBAAqBI,MA9B/BJ,MAAM,mCAgCb,CAEDM,MAAAA,GACI,OACIC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBC,UAC3BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWC,SAAA,EACtBF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,aAAYC,SAAC,cAC1BF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,aAAanC,GAAG,QAAQsC,YAAY,QAAQC,KAAK,QAAQC,SAAUrC,KAAKP,oBACzFsC,EAAAA,EAAAA,KAAA,SAAOC,UAAU,aAAanC,GAAG,WAAWsC,YAAY,WAAWC,KAAK,WAAWC,SAAUrC,KAAKP,oBAClGsC,EAAAA,EAAAA,KAAA,UAAQO,QAAStC,KAAKE,qBAAsB8B,UAAU,cAAaC,SAAC,iBAIpF,EAGJ,S","sources":["register/register.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./register.scss\";\r\nimport { auth } from '../config/firebase';\r\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\r\nimport DOMPurify from \"dompurify\";\r\n\r\nfunction escapeHTML(str) {\r\n  return String(str)\r\n    .replace(/&/g, \"&amp;\")\r\n    .replace(/</g, \"&lt;\")\r\n    .replace(/>/g, \"&gt;\")\r\n    .replace(/\"/g, \"&quot;\")\r\n    .replace(/'/g, \"&#039;\");\r\n}\r\n\r\nclass Register extends Component {\r\n    state = {\r\n        email: \"\",\r\n        password: \"\",\r\n    };\r\n\r\n    handlechangetext = (e) => {\r\n        // Sanitize input email\r\n        let value = e.target.value;\r\n        if (e.target.id === \"email\") value = DOMPurify.sanitize(value);\r\n        this.setState({\r\n            [e.target.id]: value,\r\n        });\r\n    }\r\n\r\n    handleregistersubmit = () => {\r\n        const { email, password } = this.state;\r\n        if (!email || !password) {\r\n            alert('Email and password are required');\r\n            return;\r\n        }\r\n\r\n        createUserWithEmailAndPassword(auth, email, password)\r\n            .then((userCredential) => {\r\n                // ✅ SIMPAN KE DATABASE MONGODB\r\n                fetch(`${process.env.REACT_APP_API_URL}/api/user/save`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                    },\r\n                    body: JSON.stringify({\r\n                        uid: userCredential.user.uid,\r\n                        email: userCredential.user.email,\r\n                    }),\r\n                })\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    console.log('✅ User saved to MongoDB:', data);\r\n                })\r\n                .catch(error => {\r\n                    console.error('❌ Gagal simpan user ke MongoDB:', error);\r\n                });\r\n\r\n                alert('Akun berhasil dibuat! Silakan login.');\r\n                window.location.href = '/login'; // redirect ke login\r\n            })\r\n            .catch((error) => {\r\n                const errorMessage = error.message;\r\n                alert('Gagal register: ' + errorMessage);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"auth-container\">\r\n                <div className=\"auth-card\">\r\n                    <p className=\"auth-title\">Register</p>\r\n                    <input className=\"auth-input\" id=\"email\" placeholder=\"Email\" type=\"email\" onChange={this.handlechangetext} />\r\n                    <input className=\"auth-input\" id=\"password\" placeholder=\"Password\" type=\"password\" onChange={this.handlechangetext} />\r\n                    <button onClick={this.handleregistersubmit} className=\"auth-button\">Register</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Register;\r\n"],"names":["Register","Component","constructor","arguments","state","email","password","handlechangetext","e","value","target","id","DOMPurify","sanitize","this","setState","handleregistersubmit","createUserWithEmailAndPassword","auth","then","userCredential","fetch","concat","process","method","headers","body","JSON","stringify","uid","user","res","json","data","console","log","catch","error","alert","window","location","href","errorMessage","message","render","_jsx","className","children","_jsxs","placeholder","type","onChange","onClick"],"sourceRoot":""}